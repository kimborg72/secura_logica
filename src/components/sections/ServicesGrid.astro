---
import ServiceCard from '@components/ui/ServiceCard.astro';
import type { Locale } from '@i18n/types';
import { t } from '@i18n/index';
import { getServicesByLocale } from '@i18n/content';
import { getServicePath } from '@i18n/routes';

interface Props {
  locale?: Locale;
}

const { locale = 'sv' } = Astro.props;
const services = await getServicesByLocale(locale);
---

<section class="section">
  <div class="container">
    <div class="text-center max-w-2xl mx-auto mb-16" data-reveal>
      <p class="overline mb-3">{t(locale, 'services.overline')}</p>
      <h2>{t(locale, 'services.title')}</h2>
      <p class="lead mt-4">
        {t(locale, 'services.description')}
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      {services.map((service, i) => (
        <div data-reveal data-delay={String((i % 3) + 1)}>
          <ServiceCard
            title={service.data.title}
            description={service.data.excerpt}
            href={getServicePath(locale, service.data.slug)}
            locale={locale}
          />
        </div>
      ))}
    </div>
  </div>
</section>
