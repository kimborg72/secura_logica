---
import Button from '@components/ui/Button.astro';
import type { Locale } from '@i18n/types';
import { t } from '@i18n/index';
import { getContactPath } from '@i18n/routes';

interface Props {
  title?: string;
  description?: string;
  buttonText?: string;
  buttonHref?: string;
  locale?: Locale;
}

const { locale = 'sv' } = Astro.props;

const title = Astro.props.title ?? t(locale, 'cta.defaultTitle');
const description = Astro.props.description ?? t(locale, 'cta.defaultDescription');
const buttonText = Astro.props.buttonText ?? t(locale, 'cta.defaultButton');
const buttonHref = Astro.props.buttonHref ?? getContactPath(locale);
---

<section class="bg-navy-dark relative overflow-hidden">
  <!-- Subtle pattern -->
  <div class="absolute inset-0 opacity-10">
    <div class="absolute inset-0" style="background-image: radial-gradient(circle at 1px 1px, rgba(201,122,53,0.3) 1px, transparent 0); background-size: 40px 40px;"></div>
  </div>

  <div class="container section-sm relative z-10">
    <div class="max-w-2xl mx-auto text-center" data-reveal>
      <h2 class="text-white mb-4">{title}</h2>
      <p class="lead text-white/60 mb-8">{description}</p>
      <Button href={buttonHref} variant="primary" size="lg">
        {buttonText}
      </Button>
    </div>
  </div>
</section>
