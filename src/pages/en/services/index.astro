---
import PageLayout from '@layouts/PageLayout.astro';
import HeroSimple from '@components/sections/HeroSimple.astro';
import ServiceCard from '@components/ui/ServiceCard.astro';
import CTABanner from '@components/sections/CTABanner.astro';
import { getServicesByLocale } from '@i18n/content';
import { getServicePath } from '@i18n/routes';
import { t } from '@i18n/index';

const locale = 'en';
const services = await getServicesByLocale(locale);
---

<PageLayout
  title="Services"
  description="Cybersecurity and compliance services for critical infrastructure organisations. NIS2, ISO 27001, CISO-as-a-Service and more."
  locale={locale}
>
  <HeroSimple
    title="Our services"
    description="We cover the entire chain â€” from regulatory interpretation and gap analysis to implementation and ongoing monitoring."
    breadcrumbs={[{ label: 'Services' }]}
    locale={locale}
  />

  <section class="section">
    <div class="container">
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {services.map((service, i) => (
          <div data-reveal data-delay={String((i % 3) + 1)}>
            <ServiceCard
              title={service.data.title}
              description={service.data.excerpt}
              href={getServicePath(locale, service.data.slug)}
              locale={locale}
            />
          </div>
        ))}
      </div>
    </div>
  </section>

  <CTABanner locale={locale} />
</PageLayout>
