---
import PageLayout from '@layouts/PageLayout.astro';
import HeroSimple from '@components/sections/HeroSimple.astro';
import ServiceCard from '@components/ui/ServiceCard.astro';
import CTABanner from '@components/sections/CTABanner.astro';
import { getServicesByLocale } from '@i18n/content';
import { getServicePath } from '@i18n/routes';

const locale = 'sv';
const services = await getServicesByLocale(locale);
---

<PageLayout
  title="Tjänster"
  description="Cybersäkerhet och compliance-tjänster för samhällsviktiga verksamheter. NIS2, ISO 27001, CISO-as-a-Service och mer."
  locale={locale}
>
  <HeroSimple
    title="Våra tjänster"
    description="Vi täcker hela kedjan — från regelverkstolkning och gap-analys till implementering och löpande uppföljning."
    breadcrumbs={[{ label: 'Tjänster' }]}
    locale={locale}
  />

  <section class="section">
    <div class="container">
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {services.map((service, i) => (
          <div data-reveal data-delay={String((i % 3) + 1)}>
            <ServiceCard
              title={service.data.title}
              description={service.data.excerpt}
              href={getServicePath(locale, service.data.slug)}
              locale={locale}
            />
          </div>
        ))}
      </div>
    </div>
  </section>

  <CTABanner locale={locale} />
</PageLayout>
